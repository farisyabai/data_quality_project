version: 2

models:
  - name: invalid_email_pattern
    data_tests:
      - failure_row_rates:
          config:
            severity: warn
            tags: ['soft_alert']        
          arguments:
            name: failure_rate_email_pattern
            to: test_customers
            failure_rate: 0.02

  - name: invalid_phone_num_pattern
    data_tests:
      - failure_row_rates:
          config:
            severity: warn
            tags: ['soft_alert'] 
          arguments:
            name: failure_rate_phone_num_pattern
            to: test_customers
            failure_rate: 0.05

  - name: invalid_phone_num_length
    data_tests:
      - failure_row_rates:        
          config:
            severity: warn
            tags: ['soft_alert'] 
          arguments:
            name: failure_rate_phone_num_length
            to: test_customers
            failure_rate: 0.05

  - name: stalled_shipments
    data_tests:
      - failure_row_rates:        
          config:
            severity: warn
            tags: ['soft_alert'] 
          arguments:
            name: failure_rate_stalled_shipments
            to: test_shipments
            failure_rate: 0.05

  - name: teleport_shipments
    data_tests:
      - failure_row_rates:        
          config:
            severity: warn
            tags: ['soft_alert'] 
          arguments:
            name: failure_rate_teleport_shipments
            to: test_shipments
            failure_rate: 0.02

  - name: missing_actual_delivery_date
    data_tests:
      - failure_row_rates:        
          config:
            severity: error
            tags: ['critical_alert'] 
          arguments:
            name: failure_rate_missing_actual_delivery_date
            to: test_shipments
            failure_rate: 0.01